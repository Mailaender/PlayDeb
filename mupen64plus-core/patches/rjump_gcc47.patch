Description: Fix name of PIC thunks with gcc 4.7
Origin: upstream, https://bitbucket.org/richard42/mupen64plus-core/changeset/4ad3ff32544f
Author: Sven Eckelmann <sven@narfation.org>

---
diff --git a/src/r4300/x86/rjump.c b/src/r4300/x86/rjump.c
index 0fb8bba01e076549d223954ead414d1143a969a6..6007025b420e805034e8f3abe2a048fbca8b62dc 100644
--- a/src/r4300/x86/rjump.c
+++ b/src/r4300/x86/rjump.c
@@ -94,8 +94,13 @@ void dyna_start(void (*code)(void))
 #elif defined(__GNUC__) && defined(__i386__)
   #if defined(__PIC__)
     /* for -fPIC (shared libraries) */
+    #if __GNUC_PREREQ (4, 7)
+    #  define GET_PC_THUNK_STR(reg) "__x86.get_pc_thunk." #reg
+    #else
+    #  define GET_PC_THUNK_STR(reg) "__i686.get_pc_thunk." #reg
+    #endif
     #define STORE_EBX
-    #define LOAD_EBX "call  __i686.get_pc_thunk.bx       \n" \
+    #define LOAD_EBX "call  " GET_PC_THUNK_STR(bx) "     \n" \
                      "addl $_GLOBAL_OFFSET_TABLE_, %%ebx \n"
   #else
     /* for non-PIC binaries */
