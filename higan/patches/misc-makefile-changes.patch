Description: Various changes to the upstream makefiles

* Don't strip binaries in Makefile.
* Install in /usr/games, not /usr/bin.
* Install cheats.bml into /usr/share/games/bsnes/, not ~/.config/bsnes.
* Name bsnes.png and bsnes.desktop explicitly.
* Include ALSA audio backend only on Linux.

Origin: http://anonscm.debian.org/gitweb/?p=pkg-games/bsnes.git;a=tree;f=debian/patches

Index: higan-093/ananke/Makefile
===================================================================
--- higan-093.orig/ananke/Makefile	2013-11-03 13:09:36.656279814 +0100
+++ higan-093/ananke/Makefile	2013-11-03 13:10:20.124279443 +0100
@@ -2,7 +2,7 @@
 include ../phoenix/Makefile
 
 path := /usr/local/lib
-flags := $(flags) -O3 -fomit-frame-pointer -I..
+flags := $(flags) $(CFLAGS) $(CPPFLAGS) -I..
 
 all:
 	$(compiler) $(cppflags) $(flags) -fPIC -o obj/ananke.o -c ananke.cpp
Index: higan-093/Makefile
===================================================================
--- higan-093.orig/Makefile	2013-08-17 01:38:46.000000000 +0200
+++ higan-093/Makefile	2013-11-03 13:13:36.776277764 +0100
@@ -13,8 +13,8 @@
 # console := true
 
 # compiler
-flags   += -I. -O3 -fomit-frame-pointer
-link    +=
+flags   := -I. $(CFLAGS) $(CPPFLAGS)
+link    := $(LDFLAGS)
 objects := libco
 
 # profile-guided optimization mode
@@ -30,8 +30,8 @@
 
 # platform
 ifeq ($(platform),x)
-  flags += -march=native
-  link += -s -Wl,-export-dynamic -ldl -lX11 -lXext
+  #flags += -march=native
+  link += -Wl,-export-dynamic -ldl -lX11 -lXext
 else ifeq ($(platform),osx)
   flags += -march=native
 else ifeq ($(platform),win)
Index: higan-093/target-ethos/Makefile
===================================================================
--- higan-093.orig/target-ethos/Makefile	2013-08-17 01:39:20.000000000 +0200
+++ higan-093/target-ethos/Makefile	2013-11-03 13:16:50.548276110 +0100
@@ -16,8 +16,11 @@
 # platform
 ifeq ($(platform),x)
   ruby := video.glx video.xv video.sdl
-  ruby += audio.alsa audio.openal audio.oss audio.pulseaudio audio.pulseaudiosimple audio.ao
+  ruby += audio.openal audio.oss audio.pulseaudio audio.pulseaudiosimple audio.ao
   ruby += input.sdl input.x
+  ifneq ($(findstring Linux,$(uname)),)
+    ruby += audio.alsa
+  endif
 else ifeq ($(platform),osx)
   ruby := video.cgl
   ruby += audio.openal
@@ -86,14 +89,11 @@
 
 install:
 ifeq ($(platform),x)
-	sudo install -D -m 755 out/$(name) $(DESTDIR)$(prefix)/bin/$(name)
-	sudo install -D -m 644 data/$(name).png $(DESTDIR)$(prefix)/share/pixmaps/$(name).png
-	sudo install -D -m 644 data/$(name).desktop $(DESTDIR)$(prefix)/share/applications/$(name).desktop
-
-	sudo mkdir -p /usr/share/$(name)
-	sudo cp -R profile/* /usr/share/$(name)
-	sudo cp data/cheats.bml /usr/share/$(name)/cheats.bml
-	sudo chmod -R 777 /usr/share/$(name)
+	install -D -m 755 out/$(name) $(DESTDIR)$(prefix)/games/$(name)
+	install -D -m 644 data/higan.png $(DESTDIR)$(prefix)/share/pixmaps/higan.png
+	install -D -m 644 data/higan.desktop $(DESTDIR)$(prefix)/share/applications/higan.desktop
+	install -D -m 644 data/cheats.xml $(DESTDIR)$(prefix)/share/games/higan/cheats.xml
+	cp -R profile/* $(DESTDIR)$(prefix)/share/games/higan/profile/
 else ifeq ($(platform),osx)
 	sudo mkdir -p /Library/Application\ Support/$(name)
 	sudo cp -R profile/* /Library/Application\ Support/$(name)
